<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NexCart | Advanced Shopping Experience</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      :root {
        --dark-bg: #121212;
        --darker-bg: #0a0a0a;
        --card-bg: #1e1e1e;
        --accent: #8a2be2;
        --accent-hover: #9932cc;
        --text: #f8f8f8;
        --text-secondary: #a0a0a0;
        --success: #00cc66;
        --danger: #ff4d4d;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background-color: var(--dark-bg);
        color: var(--text);
        min-height: 100vh;
        padding-bottom: 2rem;
      }

      header {
        background-color: var(--darker-bg);
        padding: 1.5rem;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        position: sticky;
        top: 0;
        z-index: 100;
      }

      .header-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--accent);
      }

      .cart-icon {
        position: relative;
        font-size: 1.5rem;
        cursor: pointer;
      }

      .cart-count {
        position: absolute;
        top: -8px;
        right: -8px;
        background-color: var(--accent);
        color: white;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 0.7rem;
        font-weight: bold;
      }

      .container {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 0 1.5rem;
      }

      .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 2rem;
      }

      .product-card {
        background-color: var(--card-bg);
        border-radius: 12px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
      }

      .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 20px rgba(0, 0, 0, 0.3);
      }

      .product-image {
        height: 200px;
        width: 100%;
        object-fit: cover;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .product-info {
        padding: 1.5rem;
      }

      .product-title {
        font-size: 1.2rem;
        margin-bottom: 0.5rem;
        font-weight: 600;
      }

      .product-description {
        color: var(--text-secondary);
        font-size: 0.9rem;
        margin-bottom: 1rem;
        line-height: 1.4;
      }

      .product-price {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--accent);
        margin-bottom: 1rem;
      }

      .add-to-cart {
        width: 100%;
        padding: 0.8rem;
        background-color: var(--accent);
        color: white;
        border: none;
        border-radius: 6px;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.3s ease;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 0.5rem;
      }

      .add-to-cart:hover {
        background-color: var(--accent-hover);
      }

      .cart-sidebar {
        position: fixed;
        top: 0;
        right: -400px;
        width: 350px;
        height: 100vh;
        background-color: var(--darker-bg);
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.4);
        transition: right 0.4s ease;
        z-index: 1000;
        display: flex;
        flex-direction: column;
      }

      .cart-sidebar.open {
        right: 0;
      }

      .cart-header {
        padding: 1.5rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .close-cart {
        background: none;
        border: none;
        color: var(--text);
        font-size: 1.5rem;
        cursor: pointer;
      }

      .cart-items {
        flex: 1;
        overflow-y: auto;
        padding: 1rem;
      }

      .cart-item {
        display: flex;
        gap: 1rem;
        padding: 1rem 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .cart-item-image {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 8px;
      }

      .cart-item-details {
        flex: 1;
      }

      .cart-item-title {
        font-weight: 600;
        margin-bottom: 0.3rem;
      }

      .cart-item-price {
        color: var(--accent);
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      .cart-item-actions {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .quantity-btn {
        background-color: rgba(255, 255, 255, 0.1);
        border: none;
        color: var(--text);
        width: 28px;
        height: 28px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .item-quantity {
        margin: 0 0.5rem;
      }

      .remove-item {
        color: var(--danger);
        background: none;
        border: none;
        cursor: pointer;
        margin-left: auto;
      }

      .cart-footer {
        padding: 1.5rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .cart-total {
        display: flex;
        justify-content: space-between;
        margin-bottom: 1rem;
        font-size: 1.2rem;
        font-weight: 600;
      }

      .checkout-btn {
        width: 100%;
        padding: 1rem;
        background-color: var(--success);
        color: white;
        border: none;
        border-radius: 6px;
        font-weight: 600;
        cursor: pointer;
        transition: opacity 0.3s ease;
      }

      .checkout-btn:hover {
        opacity: 0.9;
      }

      .empty-cart-message {
        text-align: center;
        padding: 2rem;
        color: var(--text-secondary);
      }

      .notification {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background-color: var(--success);
        color: white;
        padding: 1rem 2rem;
        border-radius: 6px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 1000;
      }

      .notification.show {
        opacity: 1;
      }

      @media (max-width: 768px) {
        .cart-sidebar {
          width: 100%;
          right: -100%;
        }

        .products-grid {
          grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="header-content">
        <div class="logo">
          <i class="fas fa-shopping-bag"></i>
          <span>NexCart</span>
        </div>
        <div class="cart-icon" id="cartIcon">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-count" id="cartCount">0</span>
        </div>
      </div>
    </header>

    <div class="container">
      <h1>Featured Products</h1>
      <div class="products-grid" id="productsGrid">
        <!-- Products will be dynamically added here -->
      </div>
    </div>

    <div class="cart-sidebar" id="cartSidebar">
      <div class="cart-header">
        <h2>Your Cart</h2>
        <button class="close-cart" id="closeCart">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="cart-items" id="cartItems">
        <!-- Cart items will be dynamically added here -->
      </div>
      <div class="cart-footer">
        <div class="cart-total">
          <span>Total:</span>
          <span id="cartTotal">$0.00</span>
        </div>
        <button class="checkout-btn" id="checkoutBtn">
          Proceed to Checkout
        </button>
      </div>
    </div>

    <div class="notification" id="notification">Item added to cart!</div>

    <script>
      // Product data
      const products = [
        {
          id: 1,
          name: "Wireless Headphones",
          description:
            "Premium noise-cancelling headphones with 30-hour battery life.",
          price: 199.99,
          image:
            "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
        },
        {
          id: 2,
          name: "Smart Watch",
          description:
            "Track your fitness goals and receive notifications on your wrist.",
          price: 249.99,
          image:
            "https://images.unsplash.com/photo-1523275335684-37898b6baf30?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
        },
        {
          id: 3,
          name: "Gaming Keyboard",
          description: "Mechanical RGB keyboard with customizable macro keys.",
          price: 129.99,
          image:
            "https://images.unsplash.com/photo-1541140532154-b024d705b90a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
        },
        {
          id: 4,
          name: "Bluetooth Speaker",
          description:
            "Portable speaker with 360Â° sound and waterproof design.",
          price: 89.99,
          image:
            "https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
        },
        {
          id: 5,
          name: "Wireless Earbuds",
          description:
            "True wireless earbuds with charging case and touch controls.",
          price: 119.99,
          image:
            "https://images.unsplash.com/photo-1590658268037-6bf12165a8df?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
        },
        {
          id: 6,
          name: "External SSD",
          description: "High performance portable storage with 1TB capacity.",
          price: 159.99,
          image:
            "https://images.unsplash.com/photo-1592899677977-9c10ca588bbd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
        },
      ];

      // Cart class using ES6 class syntax
      class Cart {
        constructor() {
          this.items = this.loadCartFromStorage();
          this.updateCartCount();
        }

        // Add item to cart
        addItem(product) {
          const existingItem = this.items.find(
            (item) => item.id === product.id
          );

          if (existingItem) {
            existingItem.quantity += 1;
          } else {
            this.items.push({
              ...product,
              quantity: 1,
            });
          }

          this.saveCartToStorage();
          this.updateCartCount();
          this.showNotification(`${product.name} added to cart!`);
        }

        // Remove item from cart
        removeItem(id) {
          this.items = this.items.filter((item) => item.id !== id);
          this.saveCartToStorage();
          this.updateCartCount();
        }

        // Update item quantity
        updateQuantity(id, quantity) {
          const item = this.items.find((item) => item.id === id);

          if (item) {
            if (quantity <= 0) {
              this.removeItem(id);
            } else {
              item.quantity = quantity;
              this.saveCartToStorage();
            }
          }
        }

        // Calculate total price
        getTotal() {
          return this.items.reduce(
            (total, item) => total + item.price * item.quantity,
            0
          );
        }

        // Get item count
        getItemCount() {
          return this.items.reduce((count, item) => count + item.quantity, 0);
        }

        // Save cart to localStorage
        saveCartToStorage() {
          localStorage.setItem("cart", JSON.stringify(this.items));
        }

        // Load cart from localStorage
        loadCartFromStorage() {
          const cartData = localStorage.getItem("cart");
          return cartData ? JSON.parse(cartData) : [];
        }

        // Update cart count display
        updateCartCount() {
          const cartCountElement = document.getElementById("cartCount");
          cartCountElement.textContent = this.getItemCount();
        }

        // Show notification
        showNotification(message) {
          const notification = document.getElementById("notification");
          notification.textContent = message;
          notification.classList.add("show");

          setTimeout(() => {
            notification.classList.remove("show");
          }, 3000);
        }

        // Clear cart
        clear() {
          this.items = [];
          this.saveCartToStorage();
          this.updateCartCount();
        }
      }

      // Initialize cart
      const cart = new Cart();

      // DOM elements
      const productsGrid = document.getElementById("productsGrid");
      const cartSidebar = document.getElementById("cartSidebar");
      const cartItems = document.getElementById("cartItems");
      const cartTotal = document.getElementById("cartTotal");
      const cartIcon = document.getElementById("cartIcon");
      const closeCart = document.getElementById("closeCart");
      const checkoutBtn = document.getElementById("checkoutBtn");

      // Render products
      function renderProducts() {
        productsGrid.innerHTML = "";

        products.forEach((product) => {
          const productCard = document.createElement("div");
          productCard.className = "product-card";

          productCard.innerHTML = `
                    <img src="${product.image}" alt="${
            product.name
          }" class="product-image">
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <p class="product-description">${
                          product.description
                        }</p>
                        <div class="product-price">$${product.price.toFixed(
                          2
                        )}</div>
                        <button class="add-to-cart" data-id="${product.id}">
                            <i class="fas fa-shopping-cart"></i>
                            Add to Cart
                        </button>
                    </div>
                `;

          productsGrid.appendChild(productCard);
        });

        // Add event listeners to Add to Cart buttons
        document.querySelectorAll(".add-to-cart").forEach((button) => {
          button.addEventListener("click", (e) => {
            const productId = parseInt(
              e.target.closest(".add-to-cart").dataset.id
            );
            const product = products.find((p) => p.id === productId);

            if (product) {
              cart.addItem(product);
              renderCart();
            }
          });
        });
      }

      // Render cart items
      function renderCart() {
        cartItems.innerHTML = "";

        if (cart.items.length === 0) {
          cartItems.innerHTML =
            '<div class="empty-cart-message">Your cart is empty</div>';
          cartTotal.textContent = "$0.00";
          return;
        }

        cart.items.forEach((item) => {
          const cartItem = document.createElement("div");
          cartItem.className = "cart-item";

          cartItem.innerHTML = `
                    <img src="${item.image}" alt="${
            item.name
          }" class="cart-item-image">
                    <div class="cart-item-details">
                        <h4 class="cart-item-title">${item.name}</h4>
                        <div class="cart-item-price">$${item.price.toFixed(
                          2
                        )}</div>
                        <div class="cart-item-actions">
                            <button class="quantity-btn decrease" data-id="${
                              item.id
                            }">-</button>
                            <span class="item-quantity">${item.quantity}</span>
                            <button class="quantity-btn increase" data-id="${
                              item.id
                            }">+</button>
                            <button class="remove-item" data-id="${item.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;

          cartItems.appendChild(cartItem);
        });

        // Update total
        cartTotal.textContent = `$${cart.getTotal().toFixed(2)}`;

        // Add event listeners to quantity buttons
        document.querySelectorAll(".increase").forEach((button) => {
          button.addEventListener("click", (e) => {
            const id = parseInt(e.target.closest(".quantity-btn").dataset.id);
            const item = cart.items.find((item) => item.id === id);

            if (item) {
              cart.updateQuantity(id, item.quantity + 1);
              renderCart();
            }
          });
        });

        document.querySelectorAll(".decrease").forEach((button) => {
          button.addEventListener("click", (e) => {
            const id = parseInt(e.target.closest(".quantity-btn").dataset.id);
            const item = cart.items.find((item) => item.id === id);

            if (item) {
              cart.updateQuantity(id, item.quantity - 1);
              renderCart();
            }
          });
        });

        document.querySelectorAll(".remove-item").forEach((button) => {
          button.addEventListener("click", (e) => {
            const id = parseInt(e.target.closest(".remove-item").dataset.id);
            cart.removeItem(id);
            renderCart();
          });
        });
      }

      // Event listeners
      cartIcon.addEventListener("click", () => {
        cartSidebar.classList.add("open");
      });

      closeCart.addEventListener("click", () => {
        cartSidebar.classList.remove("open");
      });

      checkoutBtn.addEventListener("click", () => {
        if (cart.items.length > 0) {
          alert(
            `Thank you for your purchase! Total: $${cart.getTotal().toFixed(2)}`
          );
          cart.clear();
          renderCart();
          cartSidebar.classList.remove("open");
        } else {
          alert("Your cart is empty!");
        }
      });

      // Close cart when clicking outside
      document.addEventListener("click", (e) => {
        if (
          cartSidebar.classList.contains("open") &&
          !cartSidebar.contains(e.target) &&
          !cartIcon.contains(e.target)
        ) {
          cartSidebar.classList.remove("open");
        }
      });

      // Initialize the app
      function init() {
        renderProducts();
        renderCart();
      }

      // Run the app
      init();
    </script>
  </body>
</html>
